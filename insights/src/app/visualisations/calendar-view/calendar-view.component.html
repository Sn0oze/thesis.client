<!--suppress AngularUndefinedBinding -->
<div class="container">
  <div class="mt-2">
    <app-timeline
      [dataSet]="dataSet"
      [updatedAt]="updatedAt"
      (selected)="calendar.scrollTo($event.position); canvas?.scrollTo($event.position)"></app-timeline>
    <app-canvas-toolbar
      class="my-2"
      [isOpen]="isDrawMode()"
      (undo)="undo()"
      (opened)="setMode('draw')"
      (closed)="setMode('select')"
      [(width)]="width"
      [colors]="colors"
      [(color)]="color"></app-canvas-toolbar>
    <div class="d-flex flex-row">
      <app-summary-calendar *ngIf="!showBars" [dataSet]="dataSet"></app-summary-calendar>
      <div class="position-relative" style="overflow: auto">
        <app-calendar
          #calendar
          [mode]="mode"
          [showBars]="showBars"
          [dataSet]="dataSet"
          (annotate)="annotate($event)"
          (categorize)="categorize($event)"
          (view)="view($event)"
          (filter)="filter($event)"></app-calendar>
        <app-draw-canvas
          #canvas
          [canvasWidth]="canvasWidth"
          [color]="color"
          [width]="width"
          *ngIf="isDrawMode()"
          class="draw-canvas"></app-draw-canvas>
      </div>
    </div>
  </div>
</div>
